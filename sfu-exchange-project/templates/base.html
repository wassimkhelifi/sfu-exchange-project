<!DOCTYPE html>
<html lang="en">
<head>
	{% load static %}
  <meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="{% static 'css/app.css' %}">
	<link rel="stylesheet" href="{% static 'css/icons.min.css' %}">
	{% comment %} <script src="{% static 'js/bootstrap.js' %}"/> {% endcomment %}
  {% block head %}{% endblock %}
  <title>{% block title %}SFU Exchange{% endblock %}</title>
</head>

<body>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

	<!--Navbar -->
	<div class='navbar-custom topnav-navbar'>
		<div class='container-fluid'>
			<div class='row'>
				<!--Navbar Logo-->
				<div class='col-1 my-auto'>
					<a href='/exchange/' class=''>
						<img class="topnav-logo-lg d-none d-lg-block" src='logo-big' alt='SFUExchange' height="16"/>
						<img class="topnav-logo-sm d-none " src='logo-small' alt='SFUE' height="16"/>
					</a>
				</div>
				
				<!--Search Bar-->
				<div class='col-8 my-auto'>
					<div class='d-none d-md-block'>
						<form>
							<div class='input-group'>
								<input type="text" class='form-control' style='padding-left:40px;background-color:#f1f3fa;border:none' placeholder="Search..."></input>
								<span class='position-absolute dripicons-search search-icon' style='left:10px;font-size:20px;z-index:9;'></span>
								<button class='input-group-text btn-primary' type='submit'>Search</button>
							</div>
						</form>
					</div>
				</div>

				<!--Dropdowns-->
				<div class='col-3'>
					<ul class='list-unstyled topbar-menu d-flex float-end mb-0'>
						<!--Searchbar Dropdown-->
						<li class="dropdown notification-list d-md-none">
								<a class="nav-link dropdown-toggle arrow-none" data-bs-toggle="dropdown" href="#" role="button">
										<i class="dripicons-search noti-icon"></i>
								</a>
								<div class="dropdown-menu dropdown-menu-animated dropdown-lg p-0">
									<form class="p-3">
										<div class='input-group'>
											<input type="text" class="form-control" placeholder="Search ..." aria-label="Recipient's username">
											<button class='input-group-text btn-primary' type='submit'>Search</button>
										</div>
									</form>
								</div>
						</li>

						<!--Notifications Dropdown-->
						<li class="dropdown notification-list">
							<a class="nav-link dropdown-toggle arrow-none" 
								data-bs-toggle="dropdown" 
								href="#" 
								role="button" 
								>
									<i class="dripicons-bell noti-icon"></i>
									<span class="noti-icon-badge"></span>	 <!--TTODO: Make Dynamic (load only when there are notifs)-->
							</a>
							<div class="dropdown-menu dropdown-menu-end dropdown-menu-animated dropdown-lg" style="">
									<!-- Title -->
									<div class="dropdown-item noti-title">
											<h5 class="m-0">
													<span class="float-end">
															<a href="#" class="text-dark">	<!-- TODO: Add functionality -->
																	<small>Clear All</small>
															</a>
													</span>
													Notifications
											</h5>
									</div>
									<!--TODO: Notifications go here-->


									<!--View All Button-->
									<!--TODO: Add link-->
									<a href="#" 
										class="dropdown-item text-center text-primary notify-item notify-all">
											View All
									</a>

							</div>
						</li>
						<!--Profile Dropdown-->
						{% if user.is_authenticated %}
						<li class='notification-list'>
							<a class='nav-link dropdown-toggle nav-user arrow-none me-0' data-bs-toggle='dropdown'>
								<span class='account-user-avatar'>
									<img class='rounded-circle' alt='img' src={{user.img}}>
								</span>
								<span class='account-user-name'>{{user.first_name}} {{user.last_name}}</span>
								<span class='account-position'>{{user.username}}</span>
							</a>
							<div class="dropdown-menu dropdown-menu-end dropdown-menu-animated topbar-dropdown-menu profile-dropdown" style="">
								<!-- Title -->
								<div class="dropdown-header noti-title">
										<h6 class="text-overflow m-0">
											Profile
										</h6>
								</div>
								<!-- Dropdown Items -->
								<a href="#" class="dropdown-item notify-item">
									<i class="dripicons-user me-1"></i>
									<span>Profile</span>
								</a>
								<a href="#" class="dropdown-item notify-item">
									<i class="dripicons-toggles me-1"></i>
									<span>Settings</span>
								</a>
								<a href="{% url 'logout' %}" class="dropdown-item notify-item">
									<i class="dripicons-exit me-1"></i>
									<span>Logout</span>
								</a>
							</div>
						</li>
						{% else %}
						<li class='notification-list'>
							<div class='d-none d-md-flex nav-link my-auto h-100'>
								<a href="{% url 'Home' %}" class='noti-icon fs-5'>
									Login
								</a>
								<span class='my-auto'>&nbsp;/&nbsp;</span>
								<a href="{%url "Register"  %}" class='noti-icon fs-5'>
									Register
								</a>
							</div>
							<div class='d-md-none d-sm-flex nav-link my-auto h-100'>
								<a href="{% url 'Home' %}" class='noti-icon'>
									<i class='uil-user'></i>
								<a>
							</div>
						</li>
						{% endif %}
					</ul>
				</div>
			</div>
		</div>
	</div>
	<div classname='container-fluid'>
		<!--Sidebar -->	
		<div class='leftside-menu'>
			<ul class='side-nav'>
				<li class='side-nav-item'>
					<a href="{% url 'Home' %}" class='side-nav-link'><i class='uil-home-alt'></i><span>Home</span></a>
				</li>
				
				<li class='side-nav-title side-nav-item'>Forum</li>
				<ul class='side-nav-second-level'>
					<li class="{% if request.path == "/exchange/questions/" %}menuitem-active{% endif %}">
						<a href="{% url 'Questions' %}">Questions</a>
					</li>
					<li class="{% if request.path == "/exchange/tags/" %}menuitem-active{% endif %}">
						<a href="{% url 'Tags' %}">Tags</a>
					</li>
					<li class="{% if request.path == "/exchange/users/" %}menuitem-active{% endif %}">
						<a href="{% url 'Users' %}">Users</a>
					</li>
				</ul>
				<li class='side-nav-title side-nav-item'>Profile</li>
				<ul class='side-nav-second-level'>
					<li class="{% if page == "Questions" %}menu-item-active{% endif %}">
						<a href='/'>Your Questions</a>
					</li>
					<li>
						<a href='/'>Your Answers</a>
					</li>
				</ul>
			</ul>
		</div>


		{% comment %} Main Page Content {% endcomment %}
		{% block content %}{% endblock %}

	{% comment %} Footer?  {% endcomment %}

	</div>
</body>
</html>
