{% extends "base.html" %}
  {% block head %}
    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'exchange/questions.css' %}" />
  {% endblock %}
{% block title %}Questions{% endblock %}
{% block content %}
  <div class="container-fluid">
    <div class="row" id="header">
      <div class="col">
        <h1 class="title">All Questions</h1>
      </div>
      <div class="col" style="padding-top:12px;">
        <div class="d-flex justify-content-end">
          <a href="/exchange/questions/ask">
            <button type="button" class="btn btn-primary" id="ask-button">Ask A Question</button>
          </a>
        </div>
      </div>
    </div>

    <hr/>

    <div class="row" id="questions">
      <div class="col">
        {% if questions_list %}
          {% for question in questions_list %}
            <div class="row" id="question-summary">
              <div class="col-sm-1 align-self-center">
                <div class="d-flex align-items-center flex-column">
                  <div class="col">
                    <div class="text-center">{{ question.votes }}</div>
                    <div class="text-center">Votes</div>
                  </div>
                </div>
              </div>
              <div class="col-sm-11">
                <div class="row" id="question-title">
                  <a href="/exchange/questions/{{ question.id }}/{{ question.slug }}"><h3>{{ question.title }}</h3></a>
                </div>
                <div class="row pb-1" id="question-summary">
                  {{ question.question_text }}
                </div>
                <div class="row" id="tags-users">
                  <div class="col">
                    <div class="row">
                      {% for tag in question.tags.all %}
                        <a href="#" class="badge bg-secondary d-inline-flex align-items-center justify-content-center me-1 my-1" style="width: 4rem; height: 1rem;">
                          {{ tag }}
                        </a>
                      {% endfor %}
                    </div>
                  </div>
                  <div class="col">
                    <div class="d-flex align-items-end flex-column">
                      <div class="col">
                        <div class="text-left">Asked {{ question.created_at }}</div>
                        <div class="text-left">{{ question.user_id }}</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <hr class="question-divider"/>
          {% endfor %}
        </ul>
      </div>
      {% else %}
        <p>No questions available in database</p>
      {% endif %}
    </div>
  </div>
{% endblock %}

