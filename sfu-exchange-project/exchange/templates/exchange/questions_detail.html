{% extends "base.html" %}
  {% block head %}
    {% load static %}
    {% comment %} <link rel="stylesheet" type="text/css" href="{% static 'exchange/questions_detail.css' %}" /> {% endcomment %}
  {% endblock %}
{% block title %}Question Detail{% endblock %}
{% block content %}
  <div class="question-detail-grid">
    <div class="header-grid">Header</div>
    <div class="question-grid">
      <h2>{{ question.title }}</h2>
      <p>{{ question.question_text }}</p>
      <p>{{ question.created_at }}</p>
      <p> {{ question.user_id }} </p>
    </div>
  </div>

  {% comment %} Answers listed {% endcomment %}
  <div class="answers-grid"> 
    {% if answers is None %}
      <hr>
      <p> no answers </p>
    {% endif %}
    {% if answers %}
      {% for answer in answers %}
        <hr>
        <div class="vote-grid">
          <form action="{% url 'Answer_Upvote' answer.id %}" method="POST">
            {% csrf_token %}
            <div> 
              <button type="submit" name="answer_id", value="{{ answer.id }}"> Upvote </button>
              <p>&#9651;</p> 
            </div>
            <p>&#9661;</p>
          </form>
          {{ answer.votes }}
          <form action="{% url 'Answer_Downvote' answer.id %}" method="POST">
            {% csrf_token %}
            <div> 
              <button type="submit" name="answer_id", value="{{ answer.id }}"> Downvote </button>
              <p>&#9651;</p> 
            </div>
            <p>&#9661;</p>
          </form>
        </div>
        <div class="answer-grid">
          <p> {{ answer.answer_text }} </p>
          <div>
            <p> Answered by: {{ answer.user_id }} | Created at: {{ answer.created_at }} | Last modified: {{ answer.last_edited }}</p>
          </div>
        </div>
      {% endfor %}
    {% endif %}
  </div>
  <hr>
  {% comment %} Answer Submission {% endcomment %}
  {% if user.is_authenticated %}
  <div>
    <form action="" method=post>
      {% csrf_token %}
      <table>
        {{ answerForm.as_table }}
      </table>
      <input type="submit" value="Submit">
    </form>
  </div>
  {% else %}
  <div>
    <p>Please login to post a reply</p>
  </div>
  {% endif %}
{% endblock %}